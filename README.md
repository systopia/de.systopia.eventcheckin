# Event-Checkin (de.systopia.eventcheckin)

## Scope

An extension to provide check-in links and QR codes to CiviCRM event
participants, so they can check in with the event's front desk, or even
automatically.

It also provides an API to allow a remote system to do this.

The extension "event messages" (de.systopia.eventmessages) is required to
include the links and QR codes in emails and/or documents generated by CiviCRM.
You could also use the two extensions to create event tickets icluding QR codes
and set up automated workflows for sending them out via email based on the
participant's role and/or registration status.

## Features

* Generate check-in links and QR codes for participants
* Provides a form for users with appropriate permissions to check in
  participants after scanning te QR code
* Include links and QR codes in emails and documents created in CiviCRM

## API

The extension provides two new API actions:

* ``EventCheckin.verify`` will receive the token, verify it, return data about
  the recipient to verify the identity and return possible participant status
  options when checked in
* ``EventCheckin.confirm`` will receive the token, verify it (again), and
  register the participant

## Installation

Download a packed
[release](https://github.com/systopia/de.systopia.eventcheckin/releases) and
install as any other CiviCRM extension.

When installing a development version (i.e. an alpha version, or when checking
out a specific commit), you must run `composer update` inside the extension
directory for its dependencies to be installed.

## Configuration

Visit the configuration page: ``civicrm/admin/eventcheckin/settings`` which will
among some other settings allow you to

* Configure which participant status will be eligible for checkin
* Which status registrations can changed to when checking in (there will be one
  button per status)
* The data to be displayed on the checkin screen

Once that ist done, create at least one message template that contains the token
for the QR-Codes or checkin links (e.g. {$event_checkin_code_img}), include it
in automated event-emails or use it when sending out emails or creating
docuemnts (e.g. event tickets) manually.

Please refer to the
[documentation of the extension event messages](https://github.com/systopia/de.systopia.eventmessages)
to learn more about its features.

## Permissions

In order to check in participants, your user has to have the
"Check-In Event Participants" (``event checkin``) as well as the "Access
CiviCRM" permissions. You may want to create a separate role e.g. called "Event
Checkin Staff" if you want people to only be able to check in event participants
but not access any other CiviCRM Data.

If you're using the remote check-in feature, the API user has to have the
"RemoteContacts: Check-In Event Participants" (``remote event checkin``)
permission, and the user contact identified by the ``remote_contact_id`` must
have the
"Remote Check-In User" role.

## Requirements

* PHP v7.0+
* CiviCRM 5.35

## Dependencies

This extension uses
[Chillerlan's QR code generator](https://github.com/chillerlan/php-qrcode) to
generate QR codes.
